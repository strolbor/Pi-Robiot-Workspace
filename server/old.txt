app.py

@app.route('/change/mcp/<name>', methods=['GET','POST'])
def change_mcp(name):
    """ Generisches MCP Selection"""
    # Settings
    filename = ""
    title = ""
    
    # Modus herausfinden
    integer = -1
    try:
        integer = int(name)
    except ValueError:
        # Eingabe nicht erkannt
        flash(c.INPUT_ERROR)
        return redirect(url_for('dash'))        

    if integer == 0:
        # Sammel Modus
        filename = cof.SAMMLER_CONF
        title = "Sammel Modus"
    elif integer == 1:
        # Alarm Modus
        filename = cof.ALARM_CONF
        title = "Alarm Modus"
    else:
        # Unbekannter Modus
        flash(c.MODI_NOT_FOUND)
        return redirect(url_for('dash'))

    title = title +": Einstellungen"
    form = ChangeSammlerMCP()

    #Zum speichern der Daten
    if form.validate_on_submit():
        Arraystr = ""
        
        # Checkboxes Analysieren
        if form.btn1.data:
            Arraystr = Arraystr + 'person'+ "," 
        if form.btn2.data:
            Arraystr = Arraystr + 'umbrella' + "," 
        if form.btn3.data:
            Arraystr = Arraystr + 'handbag'+ "," 
        if form.btn4.data:
            Arraystr = Arraystr + 'bottle'+ "," 
        if form.btn5.data:
            Arraystr = Arraystr + 'wine glass'+ "," 
        if form.btn6.data:
            Arraystr = Arraystr + 'cup'+ "," 
        if form.btn7.data:
            Arraystr = Arraystr + 'fork'+ "," 
        if form.btn7a.data:
            Arraystr = Arraystr + 'knife'+ "," 
        if form.btn8.data:
            Arraystr = Arraystr + 'spoon'+ "," 
        if form.btn9.data:
            Arraystr = Arraystr + 'chair'+ "," 
        if form.btn10.data:
            Arraystr = Arraystr + 'mouse'+ "," 
        if form.btn11.data:
            Arraystr = Arraystr + 'book'+ "," 
        if form.btn12.data:
            Arraystr = Arraystr + 'vase'+ ","
        if form.btn13.data:
            Arraystr = Arraystr + 'laptop'+ ","
        
        # Einstellungsdatei löschen
        delete_file(filename)
        # Einstellungsdatei schreiben
        datei = open(filename,'a')

        # Letztes Komma abtrennen
        print("Original: "+Arraystr)
        Arraystr = Arraystr[:-1]
        print("Cutted: "+ Arraystr)
        datei.write(Arraystr)
        datei.flush()
        datei.close()

        flash(c.SUC_MSG.format(Arraystr))
        return redirect(url_for('change_mcp',name=name))
    # Konfig Datei öffnen im Lese Modus
    # Zum zeigen, das es gepeichert wurden ist
    voreingestellt = ""
    try:
        datei = open(filename,'r')
        voreingestellt = datei.readline()
        datei.close()
        array = voreingestellt.split(",")
        
        if 'person' in array:
            form.btn1.data = True
        if 'umbrella' in array:
            form.btn2.data = True
        if 'handbag' in array:
            form.btn3.data = True
        if 'bottle' in array:
            form.btn4.data = True
        if 'wine glass' in array:
            form.btn5.data = True
        if 'cup' in array:
            form.btn6.data = True
        if 'fork' in array:
            form.btn7.data = True
        if 'knife' in array:
            form.btn7a.data = True
        if 'spoon' in array:
            form.btn8.data = True
        if 'chair' in array:
            form.btn9.data = True
        if 'mouse' in array:
            form.btn10.data = True
        if 'book' in array:
            form.btn11.data = True
        if 'vase' in array:
            form.btn12.data = True
        if 'laptop' in array:
            form.btn13.data = True
        
    except FileNotFoundError:
        flash(c.FILE_NOT_FOUND_MSG2.format(filename))
    return render_template(QUICK_FORM,form=form,label=title)


base.html
<!-- <li><a href="{{url_for('change_mcp',name='1')}}">Multiple Choice</a></li>-->
<!-- <li><a href="{{url_for('change_mcp',name='0')}}">Multiple Choice</a></li>-->